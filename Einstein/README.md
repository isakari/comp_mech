$$
\newcommand{\bs}[1]{\boldsymbol{#1}}
$$

# Einsteinの総和規約

本章では, 力学や電磁気学及びその数値解法を記述する際に便利な**Einsteinの総和規約**について説明する. なお, 本稿では$\mathbb{R}^d$のベクトルを太字のアルファベットで$\bs{a}$などと書く. また, ベクトル$\bs{a}$の第$i$成分を細字のアルファベットを用いて$a_i~(i=1,\cdots,d)$などと書く. ここに, $d$は対象とする空間の次元である. 本章では$d=3$の場合について考える. 

## ベクトルの内積

ベクトル $\bs{a}, \bs{b} \in \mathbb{R}^3$ に対して, 

$$
\bs{a}\cdot\bs{b} := \sum_{i=1}^3 a_i b_i
$${#eq:naiseki_orig}

をベクトル $\bs{a}, \bs{b} \in \mathbb{R}^3$ の内積 (inner product) と呼ぶ. $\bs{a}\cdot\bs{b}$を$(\bs{a},\bs{b})$と書くこともある. さて, 次元$d$が前後の文脈などから明らかなときには式([@eq:naiseki_orig])において$\sum_{i=1}^3$を省略しても差し支えないように思える. そこで, 以降, 

$$
\bs{a}\cdot\bs{b} = a_i b_i
$${#eq:naiseki}

と書くことにする. つまり, **同じ項において添え字が二度現れる場合にはその添字について和をとると約束**する。式([@eq:naiseki])の$i$のように, 一つの項において二度出現する添字を**ダミーインデックス (dummy index) **と呼ぶ. 一方, 一つの項において一度だけ出現する添字を**フリーインデックス (free index) **と呼ぶ.

---

##### 例: ダミーインデックスとフリーインデックス

ベクトル$\bs{b}$を単位ベクトル$\bs{a}$が定める直線に正射影したベクトル$\bs{c}=\displaystyle\frac{\bs{a}\cdot\bs{b}}{|\bs{a}|^2} \bs{a}$の第$i$成分は

$$
c_i=\frac{a_jb_j}{a_ka_k}a_i~~~\left(=\frac{a_1b_1+a_2b_2+a_3b_3}{a_1a_1+a_2a_2+a_3a_3}a_i\right)
$${#eq:projection}

と書ける. ここに, $j$と$k$はダミーインデックス, $i$はフリーインデックスである. なお, [@eq:projection]において, ダミーインデックスとして$j$や$k$を採用したことは本質的でなく, 例えば

$$
c_i=\frac{a_\ell b_\ell}{a_ma_m}a_i
$$

などと書いても構わない. ただし, (一つの項において) 添字が3回以上現れる場合についてはここでは定義しないので, 

$$
c_i=\frac{a_j b_j}{a_ja_j}a_i
$$

と書いてはいけない. 

---

このような記法は Einstein が初めて用いたことから, **Einstein の総和規約**と呼ばれる.
